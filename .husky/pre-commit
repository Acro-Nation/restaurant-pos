# Get a list of staged files
STAGED_FILES=$(git diff --cached --name-only)

# Check if the changes are in "apps/client" or "apps/server"
if echo "$STAGED_FILES" | grep -q '^apps/client/'; then
  echo "Client changes detected. Running client validation..."
  pnpm validate:client
fi

if echo "$STAGED_FILES" | grep -q '^apps/server/'; then
  echo "Server changes detected. Running server validation..."
  pnpm validate:server
fi
